{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"2048678","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/integration"],"pathFilters":["+ui/webui"],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"build.pat":{"value":null,"isSecret":true},"scepter.branch":{"value":"integration"},"scepter.bucketprefix":{"value":"source4society"},"scepter.distributionid":{"value":"E2O63IGSO0GHN9"},"scepter.environment":{"value":"development"},"scepter.pat":{"value":null,"isSecret":true},"scepter.repositoryurl":{"value":"https://source4society.visualstudio.com"},"scepter.uifolder":{"value":"webui"},"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/integration","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/integration","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-06-25T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/integration","intValue":7,"date":"2018-06-25T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-06-25T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/integration","intValue":3,"date":"2018-06-25T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/integration","intValue":10,"date":"2018-06-25T00:00:00.000Z"}],"_links":{"self":{"href":"https://source4society.visualstudio.com/30c103a1-005c-4615-ae74-e21770409d03/_apis/build/Definitions/1?revision=10"},"web":{"href":"https://source4society.visualstudio.com/30c103a1-005c-4615-ae74-e21770409d03/_build/definition?definitionId=1"},"editor":{"href":"https://source4society.visualstudio.com/30c103a1-005c-4615-ae74-e21770409d03/_build/designer?id=1&_a=edit-build-definition"},"badge":{"href":"https://source4society.visualstudio.com/_apis/public/build/definitions/30c103a1-005c-4615-ae74-e21770409d03/1/badge"}},"jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install command submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"submodule update --init commands/","workingFolder":"$(Parameters.workingFolder)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Pull down application credentials and configurations","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init config","workingFolder":"$(Parameters.workingFolder)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install web user interface submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init --recursive ui/$(scepter.uifolder)","workingFolder":"$(Parameters.workingFolder)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Use Yarn 1.3.x","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ec1147b-5c33-41df-94b5-676758d87c1b","versionSpec":"2.*","definitionType":"task"},"inputs":{"versionSpec":"1.x","checkLatest":"false","includePrerelease":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Install","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Recursive","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ServiceCommandDirectory)","Arguments":"yarn-recursive --cmd install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn install $(scepter.uifolder)","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Run ESLINT and Tests","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"test","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Test Results","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","versionSpec":"2.*","definitionType":"task"},"inputs":{"testRunner":"JUnit","testResultsFiles":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/junit.xml","searchFolder":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage","mergeTestResults":"false","testRunTitle":"Jest Test Results","platform":"","configuration":"","publishRunAttachments":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Code Coverage Results","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2a7ebc54-c13e-490e-81a5-d7561ab7cd97","versionSpec":"1.*","definitionType":"task"},"inputs":{"codeCoverageTool":"Cobertura","summaryFileLocation":"$(Parameters.summaryFileLocation)","reportDirectory":"$(Parameters.reportDirectory)","additionalCodeCoverageFiles":"","failIfCoverageEmpty":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Scepter Configure Cloud Credentials","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"scepter cloud:configure $(scepter.environment) aws","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Scepter UI Deploy S3","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"scepter ui:deployWebS3 $(scepter.uifolder) $(scepter.environment) $(scepter.bucketprefix)-$(scepter.environment)","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Bust CloudFront Cache","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"","Arguments":"scepter ui:bustCloudFront $(scepter.webui) $(scepter.environment) $(scepter.distributionid)","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: $(scepter.uifolder)","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"ui/$(scepter.uifolder)/build","ArtifactName":"$(scepter.uifolder)","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}}],"name":"SCEPTER UI Build & Deploy","refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"d390dadd-f4c9-4ecd-aacb-ac438ffff386","type":"TfsGit","name":"source4society","url":"https://source4society.visualstudio.com/source4society/_git/source4society","defaultBranch":"refs/heads/integration","clean":"false","checkoutSubmodules":false},"processParameters":{"inputs":[{"aliases":[],"options":{},"properties":{},"name":"reportDirectory","label":"Report Directory","defaultValue":"","type":"string","helpMarkDown":"Path of the code coverage HTML report directory. The report directory is published for later viewing as an artifact of the build. The value may contain minimatch patterns. For example: `$(System.DefaultWorkingDirectory)/MyApp/**/site/cobertura`","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"summaryFileLocation","label":"Summary File","defaultValue":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage/cobertura-coverage.xml","required":true,"type":"string","helpMarkDown":"Path of the summary file containing code coverage statistics, such as line, method, and class coverage. The value may contain minimatch patterns. For example: `$(System.DefaultWorkingDirectory)/MyApp/**/site/cobertura/coverage.xml`","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"workingFolder","label":"Working folder","defaultValue":"","type":"filePath","helpMarkDown":"","visibleRule":"","groupName":""}]},"quality":1,"authoredBy":{"displayName":"Daniel Fredriksen","url":"https://app.vssps.visualstudio.com/A56c3ab5f-7cb6-45bb-80e3-22f75d56685a/_apis/Identities/e8e8c512-e0ac-4189-927d-7c0b5728d4ed","_links":{"avatar":{"href":"https://source4society.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.MWQ2OGJlM2MtYzgxOS03ZmYzLWIwMmEtNGFjMzk2Y2NiMjMy"}},"id":"e8e8c512-e0ac-4189-927d-7c0b5728d4ed","uniqueName":"dfredriksen@cyint.technology","imageUrl":"https://source4society.visualstudio.com/_api/_common/identityImage?id=e8e8c512-e0ac-4189-927d-7c0b5728d4ed","descriptor":"msa.MWQ2OGJlM2MtYzgxOS03ZmYzLWIwMmEtNGFjMzk2Y2NiMjMy"},"drafts":[],"queue":{"_links":{"self":{"href":"https://source4society.visualstudio.com/_apis/build/Queues/8"}},"id":8,"name":"Hosted Linux Preview","url":"https://source4society.visualstudio.com/_apis/build/Queues/8","pool":{"id":3,"name":"Hosted Linux Preview","isHosted":true}},"id":1,"name":"source4society - UI Deployment to S3 - Integration-import","url":"https://source4society.visualstudio.com/30c103a1-005c-4615-ae74-e21770409d03/_apis/build/Definitions/1?revision=10","uri":"vstfs:///Build/Definition/1","path":"\\","type":2,"queueStatus":0,"revision":10,"createdDate":"2018-06-25T02:09:21.640Z","project":{"id":"30c103a1-005c-4615-ae74-e21770409d03","name":"source4society","description":"Online tutoring website","url":"https://source4society.visualstudio.com/_apis/projects/30c103a1-005c-4615-ae74-e21770409d03","state":"wellFormed","revision":24,"visibility":0}}
